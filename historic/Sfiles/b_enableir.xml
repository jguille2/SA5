<blocks app="Snap4Arduino 1.0.6 beta http://s4a.cat/snap" version="1"><block-definition s="$robot %&apos;ACTIVA&apos; IR rec" type="command" category="arduino"><comment x="0" y="0" w="460" collapsed="false">You can Enable/Disable IR receiver function.&#xD;&#xD;-Default state is disabled.&#xD;-Enabling action allows IR rec function and disables PWM function on pins 3 and 11.&#xD;-Disabling action turns on PWM function again on pins 3 and 11.</comment><header></header><code></code><inputs><input type="%txt" readonly="true">Enable<options>Enable
Disable</options></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l></l></list><l>board = this.arduino.board; //Definition should change according to the context&#xD;if (board.pins[2].supportedModes.indexOf(0x05) === -1) {&#xD;  throw new Error("Please upload SA5Firmata2.ino a higher version");&#xD;}</l></block><list></list></block><block s="doRun"><block s="reportJSFunction"><list><l>ac</l></list><l>if (ac == "Enable") {&#xD;  dat = 0xCC;&#xD;} else {&#xD;  dat = 0xCD;&#xD;}&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;//Launcher&#xD;var data =[0xF0,//START_SYSEX&#xD;				dat,//IR act/desact command&#xD;				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(data));</l></block><list><block var="ACTIVA"/></list></block></script></block-definition></blocks>