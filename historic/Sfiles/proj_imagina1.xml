<project name="proj_imagina1" app="Snap4Arduino 1.0.6 beta http://s4a.cat/snap" version="1"><notes></notes><thumbnail>data:image/png;base64,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</thumbnail><stage name="Escenari" width="480" height="360" costume="0" tempo="60" threadsafe="false" lines="round" codify="false" inheritance="false" sublistIDs="false" scheduled="false" id="1"><pentrails>data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAFoCAYAAACPNyggAAAOhUlEQVR4Xu3VwQkAAAjEMN1/abewn7jAQRC64wgQIECAAIF3gX1fNEiAAAECBAiMAHsCAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQICLAfIECAAAECgYAAB+gmCRAgQICAAPsBAgQIECAQCAhwgG6SAAECBAgIsB8gQIAAAQKBgAAH6CYJECBAgIAA+wECBAgQIBAICHCAbpIAAQIECAiwHyBAgAABAoGAAAfoJgkQIECAgAD7AQIECBAgEAgIcIBukgABAgQIHLFxAWmhEwHPAAAAAElFTkSuQmCC</pentrails><costumes><list id="2"></list></costumes><sounds><list id="3"></list></sounds><variables></variables><blocks></blocks><scripts></scripts><sprites><sprite name="Objecte" idx="1" x="0" y="0" heading="90" scale="1" rotation="1" draggable="true" costume="0" color="80,80,80" pen="tip" id="8"><costumes><list id="9"></list></costumes><sounds><list id="10"></list></sounds><variables></variables><blocks></blocks><scripts><script x="426" y="29"><custom-block s="$flag Actualitza sensors"></custom-block></script><script x="245" y="34"><custom-block s="$flag Nunchuk JOY"></custom-block></script><script x="137" y="75"><block s="gotoXY"><l>0</l><l>0</l></block></script><script x="341" y="228"><block s="doDeclareVariables"><list><l>ANGLE</l></list></block><block s="doSetVar"><l>ANGLE</l><l>0</l></block><block s="doRepeat"><l>75</l><script><custom-block s="$robot Servo %txt - angle %n (0-180)"><l>A</l><block var="ANGLE"/></custom-block><block s="doChangeVar"><l>ANGLE</l><l>2</l></block><block s="doWait"><l>0.1</l></block></script></block></script><script x="387" y="404"><custom-block s="$flag Escala blues"></custom-block></script><script x="70" y="35"><custom-block s="$flag Nunchuk ACC"></custom-block></script></scripts></sprite><watcher var="TEMPERATURA" style="normal" x="10" y="10" color="243,118,29"/><watcher var="LLUM" style="normal" x="10" y="31.000001999999995" color="243,118,29"/><watcher var="POLSADOR" style="normal" x="10" y="52.000003999999976" color="243,118,29"/><watcher var="DISTÀNCIA" style="normal" x="10" y="73.00000599999998" color="243,118,29"/><watcher var="JOY-X" style="normal" x="12" y="129.00000799999995" color="243,118,29"/><watcher var="JOY-Y" style="normal" x="12" y="150.00000999999997" color="243,118,29"/><watcher var="ACC-X" style="normal" x="13" y="177.0000119999999" color="243,118,29"/><watcher var="BOT-C" style="normal" x="14" y="245.00001799999995" color="243,118,29"/><watcher var="ACC-Y" style="normal" x="13" y="198.00001399999994" color="243,118,29"/><watcher var="ACC-Z" style="normal" x="13" y="219.00001599999996" color="243,118,29"/><watcher var="BOT-Z" style="normal" x="14" y="265.00001999999995" color="243,118,29"/></sprites></stage><hidden> reportTouchingObject reportTouchingColor reportColorIsTouchingColor colorFiltered reportStackSize reportFrameCount reportThreadCount doAsk reportLastAnswer getLastAnswer reportMouseX reportMouseY reportMouseDown reportKeyPressed reportDistanceTo doResetTimer reportTimer getTimer reportAttributeOf reportURL reportIsFastTracking doSetFastTracking reportDate</hidden><headers></headers><code></code><blocks><block-definition s="$robot Polsador" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportDigitalReading"><l>2</l></block></block></script></block-definition><block-definition s="$robot Obstacle frontal (ultrasons) cm (cm)" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><custom-block s="$robot ping (cm) -Sender Pin: %n -Receiver Pin: %n -Pulse times: %n µs %n µs"><l>4</l><l>2</l><l>2</l><l>5</l></custom-block></block></script></block-definition><block-definition s="$robot Blanc a la dreta?" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportDigitalReading"><l>2</l></block></block></script></block-definition><block-definition s="$robot Blanc a lesquerra?" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportDigitalReading"><l>4</l></block></block></script></block-definition><block-definition s="$robot Llum" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportAnalogReading"><l>2</l></block></block></script></block-definition><block-definition s="$robot Temperatura (ºC)" type="reporter" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doReport"><block s="reportRound"><block s="reportQuotient"><block s="reportAnalogReading"><l>3</l></block><l>16</l></block></block></block></script></block-definition><block-definition s="$robot Led %&apos;LED&apos; %&apos;ESTAT&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%txt" readonly="true">vermell<options>vermell
groc
verd</options></input><input type="%txt" readonly="true">encès<options>encès
apagat</options></input></inputs><script><block s="doDeclareVariables"><list><l>XLED</l><l>XESTAT</l></list></block><block s="doIf"><block s="reportEquals"><block var="ESTAT"/><l>encès</l></block><script><block s="doSetVar"><l>XESTAT</l><block s="reportTrue"></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="ESTAT"/><l>apagat</l></block><script><block s="doSetVar"><l>XESTAT</l><block s="reportFalse"></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>vermell</l></block><script><block s="doSetVar"><l>XLED</l><l>6</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>groc</l></block><script><block s="doSetVar"><l>XLED</l><l>5</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>verd</l></block><script><block s="doSetVar"><l>XLED</l><l>3</l></block></script></block><block s="digitalWrite"><block var="XLED"/><block var="XESTAT"/></block></script></block-definition><block-definition s="$robot Potència del Led %&apos;LED&apos; a %&apos;POT&apos;" type="command" category="sensing"><header></header><code></code><inputs><input type="%txt" readonly="true">vermell<options>vermell
groc
verd</options></input><input type="%n">255</input></inputs><script><block s="doDeclareVariables"><list><l>XLED</l></list></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>vermell</l></block><script><block s="doSetVar"><l>XLED</l><l>6</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>groc</l></block><script><block s="doSetVar"><l>XLED</l><l>5</l></block></script></block><block s="doIf"><block s="reportEquals"><block var="LED"/><l>verd</l></block><script><block s="doSetVar"><l>XLED</l><l>3</l></block></script></block><block s="pwmWrite"><block var="XLED"/><block var="POT"/></block></script></block-definition><block-definition s="$robot Servo %&apos;SERVO&apos; - angle %&apos;ANGLE&apos; (0-180)" type="command" category="sensing"><header></header><code></code><inputs><input type="%txt" readonly="true">A<options>A
B</options></input><input type="%n"></input></inputs><script><block s="doDeclareVariables"><list><l>XSERVO</l><l>XANGLE</l></list></block><block s="doIfElse"><block s="reportLessThan"><block var="ANGLE"/><l>0</l></block><script><block s="doSetVar"><l>XANGLE</l><l>0</l></block></script><script><block s="doIfElse"><block s="reportGreaterThan"><block var="ANGLE"/><l>180</l></block><script><block s="doSetVar"><l>XANGLE</l><l>180</l></block></script><script><block s="doSetVar"><l>XANGLE</l><block var="ANGLE"/></block></script></block><block s="doIfElse"><block s="reportEquals"><block var="SERVO"/><l>B</l></block><script><block s="doSetVar"><l>XSERVO</l><l>5</l></block></script><script><block s="doSetVar"><l>XSERVO</l><l>6</l></block></script></block></script></block><block s="servoWrite"><block var="XSERVO"/><block var="XANGLE"/></block></script></block-definition><block-definition s="$flag Actualitza sensors" type="command" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doForever"><script><block s="doSetVar"><l>TEMPERATURA</l><custom-block s="$robot Temperatura (ºC)"></custom-block></block><block s="doSetVar"><l>LLUM</l><custom-block s="$robot Llum"></custom-block></block><block s="doSetVar"><l>POLSADOR</l><custom-block s="$robot Polsador"></custom-block></block><block s="doSetVar"><l>DISTÀNCIA</l><custom-block s="$robot Obstacle frontal (ultrasons) cm (cm)"></custom-block></block><block s="doSetVar"><l>JOY-X</l><custom-block s="$robot Nunchuk %txt"><l>joyX</l></custom-block></block><block s="doSetVar"><l>JOY-Y</l><custom-block s="$robot Nunchuk %txt"><l>joyY</l></custom-block></block><block s="doSetVar"><l>ACC-X</l><custom-block s="$robot Nunchuk %txt"><l>accX</l></custom-block></block><block s="doSetVar"><l>ACC-Y</l><custom-block s="$robot Nunchuk %txt"><l>accY</l></custom-block></block><block s="doSetVar"><l>ACC-Z</l><custom-block s="$robot Nunchuk %txt"><l>accZ</l></custom-block></block><block s="doSetVar"><l>BOT-C</l><custom-block s="$robot Nunchuk %txt"><l>butC</l></custom-block></block><block s="doSetVar"><l>BOT-Z</l><custom-block s="$robot Nunchuk %txt"><l>butZ</l></custom-block></block><block s="doWait"><l>0.2</l></block></script></block></script></block-definition><block-definition s="$flag Nunchuk JOY" type="command" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doForever"><script><block s="gotoXY"><block s="reportDifference"><custom-block s="$robot Nunchuk %txt"><l>joyX</l></custom-block><l>128</l></block><block s="reportDifference"><custom-block s="$robot Nunchuk %txt"><l>joyY</l></custom-block><l>128</l></block></block><block s="doWait"><l>0.1</l></block></script></block></script></block-definition><block-definition s="$flag Nunchuk ACC" type="command" category="sensing"><header></header><code></code><inputs></inputs><script><block s="doForever"><script><block s="gotoXY"><block s="reportDifference"><custom-block s="$robot Nunchuk %txt"><l>accX</l></custom-block><l>500</l></block><block s="reportDifference"><custom-block s="$robot Nunchuk %txt"><l>accY</l></custom-block><l>500</l></block></block><block s="doWait"><l>0.1</l></block></script></block></script></block-definition><block-definition s="$robot Nunchuk %&apos;opt&apos;" type="reporter" category="arduino"><header></header><code></code><inputs><input type="%txt" readonly="true">joyX&#xD;				<options>joyX
joyY
butZ
butC
accX
accY
accZ</options></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l></l></list><l>//Imagina begins&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;var checkedFirmware = false;&#xD;for (i = 2; i &lt; (board.pins.length - 1); i++) {&#xD;  if (!(board.pins[i].supportedModes.indexOf(0x05) === -1)) {&#xD;    checkedFirmware = true;&#xD;    break;&#xD;  }&#xD;}&#xD;if (!checkedFirmware) {&#xD;  throw new Error("Please upload ImaginaFirmata to the board");&#xD;}</l></block><list></list></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>joyX</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC0] = function(board) {&#xD;  var joyX = (board.currentBuffer[2] &amp; 0x7F) | ((board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 7);&#xD; 	board.emit("joyX", joyX);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.joyX = null;&#xD;//Launcher&#xD;board.once("joyX", function(data){myself.joyX = data;});&#xD;var sdata =[0xF0,//START_SYSEX,&#xD;      				0xC0,//joyX command&#xD;		      		0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.joyX != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.joyX;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>joyY</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC1] = function(board) {&#xD;  var joyY = (board.currentBuffer[2] &amp; 0x7F) | ((board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 7);&#xD; 	board.emit("joyY", joyY);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.joyY = null;&#xD;//Launcher&#xD;board.once("joyY", function(data){myself.joyY = data;});&#xD;var sdata =[0xF0,//START_SYSEX,&#xD;      				0xC1,//joyY command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.joyY != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.joyY;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>butZ</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC2] = function(board) {&#xD;  var butZ = (board.currentBuffer[2] &amp; 0x7F);&#xD; 	board.emit("butZ", butZ);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.butZ = null;&#xD;//Launcher&#xD;board.once("butZ", function(data){myself.butZ = data;});&#xD;var sdata =[0xF0,//START_SYSEX,&#xD;      				0xC2,//butZ command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.butZ != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.butZ;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>butC</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC3] = function(board) {&#xD;  var butC = (board.currentBuffer[2] &amp; 0x7F);&#xD; 	board.emit("butC", butC);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.butC = null;&#xD;//Launcher&#xD;board.once("butC", function(data){myself.butC = data;});&#xD;var sdata =[0xF0,//START_SYSEX,&#xD;      				0xC3,//butC command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.butC != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.butC;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>accX</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC4] = function(board) {&#xD;  var accX = (board.currentBuffer[2] &amp; 0x7F) | ((board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 7);&#xD; 	board.emit("accX", accX);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.accX = null;&#xD;//Launcher&#xD;board.once("accX", function(data){myself.accX = data;});&#xD;var sdata =[0xF0,//START_SYSEX,&#xD;      				0xC4,//accX command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.accX != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.accX;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>accY</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC5] = function(board) {&#xD;  var accY = (board.currentBuffer[2] &amp; 0x7F) | ((board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 7);&#xD; 	board.emit("accY", accY);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.accY = null;&#xD;//Launcher&#xD;board.once("accY", function(data){myself.accY = data;});&#xD;var sdata =[0xF0,//START_SYSEX&#xD;      				0xC5,//accY command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.accY != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.accY;</l></block><list></list></block></block></script></block><block s="doIf"><block s="reportEquals"><block var="opt"/><l>accZ</l></block><script><block s="doRun"><block s="reportJSFunction"><list></list><l>//Sysex Response definition&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC6] = function(board) {&#xD;  var accZ = (board.currentBuffer[2] &amp; 0x7F) | ((board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 7);&#xD; 	board.emit("accZ", accZ);&#xD;}&#xD;//Async query&#xD;myself = this.arduino;&#xD;this.arduino.accZ = null;&#xD;//Launcher&#xD;board.once("accZ", function(data){myself.accZ = data;});&#xD;var sdata =[0xF0,//START_SYSEX&#xD;      				0xC6,//accZ command&#xD;      				0xF7//END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(sdata));</l></block><list></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return (this.arduino.accZ != null);</l></block><list></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l></l></list><l>return this.arduino.accZ;</l></block><list></list></block></block></script></block></script></block-definition><block-definition s="$robot Tone %&apos;pin&apos; pin - %&apos;freq&apos; Hz - %&apos;dur&apos; mseg" type="command" category="arduino"><header></header><code></code><inputs><input type="%n">14</input><input type="%n">0</input><input type="%n">0</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>pin</l><l>freq</l><l>dur</l></list><l>//Imagina begins&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;if (board.pins[pin].supportedModes.indexOf(0x05) === -1) {&#xD;  throw new Error("Please upload ImaginaFirmata to the board and use a digital pin");&#xD;}&#xD;//Launcher&#xD;if (pin === undefined || freq === undefined || pin &lt;= 1 || pin &gt; 255 || freq &lt; 0 || freq &gt; 65535) {&#xD;  throw new Error("Required var pin (2-255) and frequency (0-65535)");&#xD;}&#xD;var dur = dur || 0;&#xD;dur = dur &amp; 0xFFFF; //clamping value to 32 bits&#xD;var data =[0xF0, //START_SYSEX&#xD;       		0xC7,  //Tone Command&#xD;       		(dur &gt;&gt; 25) &amp; 0x7F,&#xD;       		(dur &gt;&gt; 18) &amp; 0x7F,&#xD;       		(dur &gt;&gt; 11) &amp; 0x7F,&#xD;       		(dur &gt;&gt; 4) &amp; 0x7F,&#xD;       		((dur &lt;&lt; 3) &amp; parseInt("01111000",2)) | ((freq &gt;&gt; 13) &amp; parseInt("0111",2)),&#xD;       		(freq &gt;&gt; 6) &amp; 0x7F,&#xD;       		((freq &lt;&lt; 1) &amp; parseInt("01111110",2)) | ((pin &gt;&gt; 7) &amp; parseInt("01",2)),&#xD;        		pin &amp; 0x7F,&#xD;       		0xF7  //END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(data));</l></block><list><block var="pin"/><block var="freq"/><block var="dur"/></list></block></script></block-definition><block-definition s="$robot pulseIn %&apos;pin&apos; pin -- %&apos;stValue&apos; pulse -- %&apos;timeout&apos; microseconds" type="reporter" category="arduino"><header></header><code></code><inputs><input type="%n"></input><input type="%txt" readonly="true">HIGH<options>HIGH
LOW</options></input><input type="%n"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>pin</l><l>stValue</l><l>timeout</l></list><l>//Imagina begins&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;if (board.pins[pin].supportedModes.indexOf(0x05) === -1) {&#xD;  throw new Error("Please upload ImaginaFirmata to the board and use a digital pin");&#xD;}&#xD;//Response definition&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xC8] = function(board) {&#xD;  var pulse = (board.currentBuffer[2] &amp; 0x7F) &lt;&lt; 25| (board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 18 | (board.currentBuffer[4] &amp; 0x7F) &lt;&lt; 11 | (board.currentBuffer[5] &amp; 0x7F) &lt;&lt; 4 | (board.currentBuffer[6] &amp; 0x7F) &gt;&gt; 3;&#xD;  var pinResp = (board.currentBuffer[6] &amp; parseInt("0111",2)) &lt;&lt; 5 | (board.currentBuffer[7] &amp; parseInt("011111",2));&#xD;  board.emit("pulseIn-"+pinResp, pulse);&#xD;}&#xD;//Async reporting&#xD;report = this;&#xD;this.arduino["pulseIn-"+pin] = null;&#xD;//Launcher&#xD;value = 1;&#xD;if (stValue == "LOW") {value = 0;} //only explicit LOW return a low pulse &#xD;if (pin === undefined || pin &lt;= 1 || pin &gt; 255) {&#xD;  throw new Error("Required var pin (2-255)");&#xD;}&#xD;var timeout = timeout || 0; //undefined will be 0, and 0 causes Arduino&apos;s default (1s)&#xD;timeout = timeout &amp; 0xFFFFFFFF; //clamping value to 32 bits&#xD;board.once("pulseIn-"+pin, function(data){report.arduino["pulseIn-"+pin] = data;});&#xD;var data =[0xF0, //START_SYSEX&#xD;        		0xC8,  //PulseIn Command&#xD;        		(timeout &gt;&gt; 25) &amp; 0x7F,&#xD;        		(timeout &gt;&gt; 18) &amp; 0x7F,&#xD;        		(timeout &gt;&gt; 11) &amp; 0x7F,&#xD;      	  	(timeout &gt;&gt; 4) &amp; 0x7F,&#xD;      		  ((timeout &lt;&lt; 3) &amp; parseInt("01111000",2)) | ((value &lt;&lt; 2) &amp; parseInt("0100",2)) | ((pin &gt;&gt; 6) &amp; parseInt("011",2)),&#xD;      		  (pin &amp; parseInt("0111111",2)),&#xD;      		  0xF7  //END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(data));</l></block><list><block var="pin"/><block var="stValue"/><block var="timeout"/></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>return (this.arduino["pulseIn-"+pin] != null);</l></block><list><block var="pin"/></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pin</l></list><l>return this.arduino["pulseIn-"+pin];</l></block><list><block var="pin"/></list></block></block></script></block-definition><block-definition s="$robot ping (cm) -Sender Pin: %&apos;pinSen&apos; -Receiver Pin: %&apos;pinRec&apos; -Pulse times: %&apos;time1&apos; µs %&apos;time2&apos; µs" type="reporter" category="arduino"><header></header><code></code><inputs><input type="%n">4</input><input type="%n">2</input><input type="%n">2</input><input type="%n">5</input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>pinRec</l><l>pinSen</l><l>time1</l><l>time2</l></list><l>//Imagina begins&#xD;board = this.arduino.board; //Definition should change according to the context&#xD;if (board.pins[pinRec].supportedModes.indexOf(0x05) === -1) {&#xD;  throw new Error("Please upload ImaginaFirmata to the board and use a digital pin");&#xD;}&#xD;//Response definition&#xD;world.Arduino.firmata.SYSEX_RESPONSE[0xCA] = function(board) {&#xD;  var pulse = (board.currentBuffer[2] &amp; 0x7F) &lt;&lt; 9| (board.currentBuffer[3] &amp; 0x7F) &lt;&lt; 2 | (board.currentBuffer[4] &amp; parseInt("01100000",2)) &gt;&gt; 5;&#xD;  var pinResponse = (board.currentBuffer[4] &amp; parseInt("011111",2)) &lt;&lt; 3 | (board.currentBuffer[5] &amp; parseInt("0111",2));&#xD;  board.emit("ping-"+pinResponse, pulse);&#xD;}&#xD;//Async reporting&#xD;report = this;&#xD;this.arduino["ping-"+pinRec] = null;&#xD;//Launcher&#xD;if (pinSen === undefined || pinSen &lt;= 1 || pinSen &gt; 255 || pinRec === undefined || pinRec &lt;= 1 || pinRec &gt; 255) {&#xD;  throw new Error("Required vars pinSen and pinRec (2-255)");&#xD;}&#xD;board.once("ping-"+pinRec, function(data){report.arduino["ping-"+pinRec] = data;});&#xD;var data =[0xF0, //START_SYSEX&#xD;        		0xCA,  //Ping Command&#xD;        		(pinSen &gt;&gt; 1) &amp; 0x7F,&#xD;        		(pinSen &lt;&lt; 6) | (time1 &amp; parseInt("011111",2)),&#xD;        		(pinRec &gt;&gt; 1) &amp; 0x7F,&#xD;      		  (pinRec &lt;&lt; 6) | (time2 &amp; parseInt("011111",2)),&#xD;      		  0xF7  //END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(data));</l></block><list><block var="pinRec"/><block var="pinSen"/><block var="time1"/><block var="time2"/></list></block><block s="doWaitUntil"><block s="evaluate"><block s="reportJSFunction"><list><l>pinRec</l></list><l>return (this.arduino["ping-"+pinRec] != null);</l></block><list><block var="pinRec"/></list></block></block><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>pinRec</l></list><l>var value = Math.round(this.arduino["ping-"+pinRec]/29.41/2);&#xD;if (value == 0) return 1000;&#xD;return value;</l></block><list><block var="pinRec"/></list></block></block></script></block-definition><block-definition s="$robot pulseOut %&apos;pin&apos; pin-- %&apos;stValue&apos; pulse -- Times: %&apos;time1&apos; %&apos;time2&apos; %&apos;time3&apos; µs" type="command" category="arduino"><header></header><code></code><inputs><input type="%n"></input><input type="%txt" readonly="true">HIGH<options>HIGH
LOW</options></input><input type="%n"></input><input type="%n"></input><input type="%n"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>pin</l><l>stValue</l><l>time1</l><l>time2</l><l>time3</l></list><l>//Imagina begins&#xD;board = this.arduino.board;  //Definition should change according to the context&#xD;if (board.pins[pin].supportedModes.indexOf(0x05) === -1) {&#xD;  throw new Error("Please upload ImaginaFirmata to the board and use a digital pin");&#xD;}&#xD;//Launcher&#xD;var value = 1;&#xD;if (stValue == "LOW") {value = 0;} //only explicit LOW causes a low pulse &#xD;if (pin === undefined || pin &lt;= 1 || pin &gt; 255) {&#xD;  throw new Error("Required var pin (2-255)");&#xD;}&#xD;//undefined time will be 0 seconds&#xD;var time1 = time1 || 0;&#xD;var time2 = time2 || 0;&#xD;var time3 = time3 || 0;&#xD;//clamping time values to 11 bits&#xD;time1 = time1 &amp; parseInt("011111111111",2);&#xD;time2 = time2 &amp; parseInt("011111111111",2);&#xD;time3 = time3 &amp; parseInt("011111111111",2);&#xD;var data = [0xF0, //START_SYSEX&#xD;        		0xC9,  //microsecondsPulseOut Command&#xD;        		(time1 &gt;&gt; 4) &amp; 0x7F,&#xD;        		((time1 &lt;&lt; 3) &amp; parseInt("01111000",2)) | ((time2 &gt;&gt; 8) &amp; parseInt("0111",2)),&#xD;        		(time2 &gt;&gt; 1) &amp; 0x7F,&#xD;        		((time2 &lt;&lt; 6) &amp; parseInt("01000000",2)) | ((time3 &gt;&gt; 5) &amp; parseInt("0111111",2)),&#xD;      	  	((time3 &lt;&lt; 2) &amp; parseInt("01111100",2)) | ((value &lt;&lt; 1) &amp; parseInt("010",2)) | ((pin &gt;&gt; 7) &amp; parseInt("01",2)),&#xD;      	  	(pin &amp; 0x7F), &#xD;      	  	0xF7  //END_SYSEX&#xD;];&#xD;board.transport.write(new Buffer(data));</l></block><list><block var="pin"/><block var="stValue"/><block var="time1"/><block var="time2"/><block var="time3"/></list></block></script></block-definition><block-definition s="$flag Escala blues" type="command" category="sound"><header></header><code></code><inputs></inputs><script><block s="doForever"><script><block s="doDeclareVariables"><list><l>a</l><l>b</l></list></block><block s="doSetVar"><l>a</l><custom-block s="$robot ping (cm) -Sender Pin: %n -Receiver Pin: %n -Pulse times: %n µs %n µs"><l>4</l><l>2</l><l>2</l><l>5</l></custom-block></block><block s="doSetVar"><l>b</l><block s="reportDifference"><custom-block s="$robot Nunchuk %txt"><l>joyY</l></custom-block><l>128</l></block></block><block s="doIf"><block s="reportOr"><block s="reportLessThan"><block var="a"/><l>10</l></block><block s="reportGreaterThan"><block var="a"/><l>55</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><l>0</l><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>10</l></block><block s="reportLessThan"><block var="a"/><l>15</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>220</l><block s="reportQuotient"><block var="b"/><l>3</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>15</l></block><block s="reportLessThan"><block var="a"/><l>20</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>261</l><block s="reportQuotient"><block var="b"/><l>3</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>20</l></block><block s="reportLessThan"><block var="a"/><l>25</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>294</l><block s="reportQuotient"><block var="b"/><l>2.7</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>25</l></block><block s="reportLessThan"><block var="a"/><l>30</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>311</l><block s="reportQuotient"><block var="b"/><l>2.7</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>30</l></block><block s="reportLessThan"><block var="a"/><l>35</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>330</l><block s="reportQuotient"><block var="b"/><l>2.5</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>35</l></block><block s="reportLessThan"><block var="a"/><l>40</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>392</l><block s="reportQuotient"><block var="b"/><l>2.5</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>40</l></block><block s="reportLessThan"><block var="a"/><l>45</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>440</l><block s="reportQuotient"><block var="b"/><l>2.2</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>45</l></block><block s="reportLessThan"><block var="a"/><l>50</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>523</l><block s="reportQuotient"><block var="b"/><l>2.1</l></block></block><l>0</l></custom-block></script></block><block s="doIf"><block s="reportAnd"><block s="reportGreaterThan"><block var="a"/><l>50</l></block><block s="reportLessThan"><block var="a"/><l>55</l></block></block><script><custom-block s="$robot Tone %n pin - %n Hz - %n mseg"><l>14</l><block s="reportSum"><l>587</l><block s="reportQuotient"><block var="b"/><l>2</l></block></block><l>0</l></custom-block></script></block><block s="doWait"><l>0.1</l></block></script></block></script></block-definition></blocks><variables><variable name="TEMPERATURA"><l>19</l></variable><variable name="LLUM"><l>70</l></variable><variable name="POLSADOR"><bool>false</bool></variable><variable name="DISTÀNCIA"><l>28</l></variable><variable name="JOY-X"><l>128</l></variable><variable name="JOY-Y"><l>128</l></variable><variable name="ACC-X"><l>436</l></variable><variable name="ACC-Y"><l>384</l></variable><variable name="ACC-Z"><l>708</l></variable><variable name="BOT-C"><l>0</l></variable><variable name="BOT-Z"><l>0</l></variable></variables></project>